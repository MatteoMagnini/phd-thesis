\begin{algorithm}
    \captionsetup{font=\algCaptionSize}
    \caption{Populates the given ontology with novel relationships queried from an LLM oracle}
    \label{alg:relate}
    \begin{algorithmic}[1]\algCodeSize
        \Require $\relset{O} = \relset{C} \cup \relset{P} \cup \relset{X}$: partially populated ontology
        \Require $\relset{T}_{R}$: relation seeking query templates
        \Require $\relset{L}$: LLM oracle
        \Require $\relation{P} \in \relset{P}$: property to be populated
        \Ensure $\relset{X}'$ contains novel relationships, involving individuals in $\relset{X}$
        \medskip
        \Function{\relate}{$\relset{O}, \relset{T}_R, \relset{L}, \relation{P}$}
            \State $\relset{X}' \gets \relset{X}$
            \State $\concept{D} \gets \Call{\getDomain}{\relation{P}}$
            \State $\concept{R} \gets \Call{\getRange}{\relation{P}}$
            \ForAll{$(\instance{i} : \concept{D}) \in \relset{X}$}
                \ForAll{$\mathit{t} \in \relset{T}_{R}$}
                    \State $\mathit{q} \gets \mathit{t}/\{ \var{individual} \!\mapsto\! \instance{i}, \var{property} \!\mapsto\! \relation{P} \}$
                    \State $\mathit{text} \gets \Call{\askOracle}{\relset{L}, \mathit{q}}$
                    \ForAll{$\instance{i}' \in \Call{\extractNames}{\mathit{text}}$}
                        \State $\relset{O}' \gets \relset{C} \cup \relset{P} \cup \relset{X}'$
                        \State $\relset{X}' \gets \Call{\addToClass}{\relset{O}', \instance{i}', \concept{R}}$
                        \State $\relset{X}' \gets \relset{X}' \cup \{ \relation{P}(\instance{i}, \instance{i}') \}$
                    \EndFor
                \EndFor
            \EndFor
            \State \Return $\relset{X}'$
        \EndFunction
    \end{algorithmic}
\end{algorithm}